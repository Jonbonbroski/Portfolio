(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"+Sjy":function(e,t,n){"use strict";n.d(t,"f",function(){return l}),n.d(t,"d",function(){return _}),n.d(t,"e",function(){return f}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return b}),n.d(t,"c",function(){return p});var r=n("vJtL"),o=n("Z3Pq"),a=n("HO/Y"),i=n("yHhI"),s=n("j04V"),c=[{path:"example",id:"Pexample",isEnabled:function(e){return Object(a.i)(e,"feature_pages_example")}},{path:"unreads",id:"Punreads",isEnabled:function(e){return Object(a.i)(e,"feature_react_all_unreads")}},{path:"learning-slack",id:"Pwelcome",isEnabled:function(e){return Object(s.c)(e)}}],u=Object(o.a)(c,"id"),d=Object(o.a)(c,"path");d.unreads.id;function l(e){return!!d[e]}function _(e,t){return!!t&&(Object(r.a)(t.isEnabled)?!!t.isEnabled(e):void 0===t.isEnabled||(Object(i.b)().error("PAGES","Page "+t.id+" has an invalid isEnabled property - it needs to either be a function or undefined"),!1))}function f(e,t){return _(e,b(t))}function m(){return c}function b(e){return u[e]}function p(e){return d[e]}},"/gpl":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=/^@?A[A-Z0-9]{8,}$/;function o(e){return r.test(e)}},"0QyR":function(e,t,n){"use strict";var r=n("jo6Y"),o=n.n(r),a=n("m1cH"),i=n.n(a),s=n("QbLZ"),c=n.n(s),u=n("sk9p"),d=n.n(u),l=n("9oTK"),_=n("CpTu"),f=n("owWc"),m=n("1PKr"),b=n("Omjo"),p=n("HDs8"),h=n("0oUp"),v=n("VL9c"),O=n("1j8a"),g=5e3;function w(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).maxTimePausedMs,t=void 0===e?g:e,n=void 0,r={online:!0},o=function(){r.online=!1,n=window.setTimeout(function(){throw new Error("Boot queue paused for too long")},t)},a=function(){r.online=!0,window.clearTimeout(n),n=void 0},i={apiQ:new p.a({isOnline:function(){return r.online},reconnectClient:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.setOffline,n=e.setOnline;return t(),Object(h.a)().then(n).catch(function(){throw new O.a("Could not complete boot due to loss of network connectivity",{name:"BootNetworkConnectionError"})})}({setOffline:o,setOnline:a})},reconnectService:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.setOffline,n=e.setOnline;return t(),Object(v.a)().then(n).catch(function(){throw new O.a("Could not complete boot due to loss of API service",{name:"BootApiConnectionError"})})}({setOffline:o,setOnline:a})}}),q:function(){var e;return i.apiQ&&(e=i.apiQ).q.apply(e,arguments)},stop:function(){i.apiQ.stop(),i.apiQ.clearStatsInterval(),delete i.apiQ,i.apiQ=void 0,window.clearTimeout(n),n=void 0}};return i}var j=n("Gogr"),y=n("IbTH"),I=n("hYgc"),T=n("btH0"),k=n("+Sjy"),S=n("L6kU"),A=c()({},S.a,{feature_classic_nav:!0,feature_global_nav:!1,feature_modern_sounds:!0,feature_offline_mode:!0,feature_sidebar_context_menu:!0,feature_sonic_clipboard:!0,feature_sonic_edit_profile:!0,feature_sonic_placeholder_labels:!0,feature_sonic_find_more_wksps:!0,feature_sonic_snippets:!0,feature_incremental_unread_counts:!0,feature_sonic_inputs:!0,feature_sonic_emoji:!0,feature_modern_gdrive_create:!0,feature_app_actions_fe_refactor:!0,feature_file_comment_deleted_rtm_handler:!0,feature_m11n_channel_details:!0,feature_modern_profile_flexpane:!0,feature_modern_starred_items:!0,feature_modernize_slack_actions:!0,feature_react_all_unreads:!0,feature_react_file_viewer:!0,feature_react_member_profile_card:!0,feature_select_model_option_fetcher_m11n:!0,feature_sonic_activity:!0,feature_sonic_cloud_files_picker:!0,feature_sonic_dm_browser:!0,feature_sonic_img_proxy:!0,feature_sonic_dnd_manager:!0,feature_sonic_dnd_rtm:!0,feature_sonic_member_directory:!0,feature_sonic_pins:!0,feature_sonic_presence_manager:!0,feature_sonic_user_groups:!0,feature_unified_member:!0,feature_wta_modal_m11n:!0,feature_modernize_channel_create_modal:!0,feature_sonic_channel_options:!0,feature_sonic_channel_invite_modal:!0,feature_m11n_apps_browser:!0,feature_modernize_invites:!0,feature_sonic_channel_browser:!0,feature_sonic_esc_creation:!0,feature_sonic_degraded_banner:!0,feature_sonic_frequent_emoji_from_pref:!0,feature_modern_request_workspace_dialog:!0,feature_sonic_leave_workspace_dialog:!0});n.d(t,"b",function(){return R}),n.d(t,"a",function(){return F});var E,F=(E=Object(l.coroutine)(regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,s,u,f,m,p,h,v,O,g,S,E,F,D,C,P,B,R,U,W,M,N,H,G,Q,V,q,X,K,Z,Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},z=Y.teamId,J=Y.teamToken,$=Y.routeInfo,ee=void 0===$?null:$,te=Y.forceAPI,ne=void 0!==te&&te,re=Y.bootQueue,oe=void 0===re?w():re;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.resolve)(Object(I.a)({teamId:z,forceAPI:ne}));case 2:if(!e.sent){e.next=6;break}return Object(b.b)("BOOT","("+z+") Booting with persisted store"),e.abrupt("return",Promise.resolve("cached"));case 6:return t=[x({bootQueue:oe,token:J,teamId:z}),Object(y.f)({bootQueue:oe,token:J,teamId:z,overrides:A}),Object(y.e)({bootQueue:oe,token:J,teamId:z,userId:null})],!(n=ee&&ee.params&&ee.params.entityId)||Object(T.a)(n)||Object(k.f)(n)?Object(T.a)(n)||Object(k.f)(n)||(Object(b.b)("BOOT","Couldn't determine boot channel. Falling back to default channel"),t.push(L({bootQueue:oe,token:J,teamId:z}))):(Object(b.b)("BOOT","Booting into channel: "+n),t.push(L({bootQueue:oe,token:J,teamId:z,id:n}))),e.next=11,Object(l.resolve)(Promise.all(t));case 11:if(r=e.sent,o=d()(r,4),a=o[0],i=o[1],s=o[2],u=o[3],f=a.selfData,m=a.teamData,p=a.teamPrefsData,h=a.userPrefsData,v=a.userGroupMembershipData,O=a.channelsData,g=a.membersToFetch,S=a.paidFeatures,E=a.emojiBootData,F=a.slashCommandsBootData,D=a.acceptTosUrl,C=!1,P=!1,B=null,R=null,h.onboarding_complete){e.next=40;break}if(!h.tractor_enabled){e.next=31;break}return e.next=26,Object(l.resolve)(Object(y.l)({bootQueue:oe,token:J,teamId:z}));case 26:U=e.sent,B=Object(_.a)(U,function(e){return"account_setup"===e.type&&"team_creation"===e.subtype}),C=B&&"completed"!==B.state,e.next=40;break;case 31:if("none"===h.welcome_place_state||!i.feature_jira_newxp_2372&&!window.location.search.includes("feature_jira_newxp_2372=1")){e.next=39;break}if("enabled"!==h.welcome_place_state){e.next=37;break}return e.next=35,Object(l.resolve)(Object(y.m)({bootQueue:oe,token:J,teamId:z}));case 35:R=e.sent,P=!0;case 37:e.next=40;break;case 39:h.seen_welcome_2||(P=!0);case 40:if(W=document.documentElement,M={app:"client",api_token:J,user_id:f.id,version_ts:W&&W.dataset?W.dataset.versionTs:"unknown",version_uid:W&&W.dataset?W.dataset.versionHash:"unknown",shouldStartCreatorOnboarding:C,shouldStartJoinerOnboarding:P,teamCreationWorkflow:B,welcomePlaceOnboardingData:R,acceptTosUrl:D},N=void 0,H=void 0,!f.enterprise_user){e.next=57;break}return G=Object(j.d)(z,"enterprise_api_token"),e.next=48,Object(l.resolve)(Promise.all([Object(y.c)({bootQueue:oe,token:J,teamId:z}),Object(y.d)({bootQueue:oe,token:G,teamId:z})]));case 48:Q=e.sent,V=d()(Q,2),q=V[0],X=V[1],M.enterprise_id=f.enterprise_user.enterprise_id,M.page_needs_enterprise=!0,M.enterprise_api_token=G,N=q,H=X;case 57:return u&&u.channelData&&-1!==(K=O.findIndex(function(e){return e&&e.id===u.channelData.id}))&&(Z=c()({},O[K],u.channelData),O.splice(K,1,Z)),oe.stop(),e.abrupt("return",{channelsData:O,membersToFetch:g,teamData:m,viewData:u||null,selfData:f,featureFlagData:i,experimentsData:s,miscBootData:M,userPrefsData:h,teamPrefsData:p,userGroupMembershipData:v,enterpriseData:N,enterprisePrefsData:H,paidFeatures:S,emojiBootData:E,slashCommandsBootData:F});case 60:case"end":return e.stop()}},e,this)})),function(e){return E.apply(this,arguments)}),D=function(e){return!(!e||!e.is_im)},C=function(e){return!(!e||!e.is_mpim)},P=function(e){return D(e)&&e.user},B=function(e){return C(e)&&e.members};function L(e){var t=e.bootQueue,n=e.token,r=e.teamId,o=e.id,a=void 0===o?null:o,i={token:n,canonical_avatars:!0,no_user_profile:!0,ignore_replies:!0,no_self:!0,include_full_users:!0};a&&(i.channel=a);var s=new m.b({method:"conversations.view",args:i,teamId:r});return t.q(s).then(function(e){var t=e.history.messages,n=e.channel||e.group||e.im,r=n&&n.id,o={channelId:r,count:e.history.channel_actions_count||0};return{channelData:n,messagesData:{msgs:t,channelId:r,latest:t.length>0?t[0].ts:null,oldest:t.length>0?t[t.length-1].ts:null,hasMore:{hasMoreEnd:!1,hasMoreStart:e.history.has_more},isLimited:e.history.is_limited},membersData:e.users,botsData:e.bots,channelActionsData:o}}).catch(function(e){if(e.data&&"channel_not_found"===e.data.error){if(a)return L({bootQueue:t,token:n,teamId:r});var o=new m.b({method:"im.open",args:{user:"USLACKBOT",token:n},teamId:r});return t.q(o).then(function(e){return L({bootQueue:t,token:n,teamId:r,id:e.channel.id})})}throw e})}function R(e){var t,n=e.team,r=e.subteams,a=e.self,s=e.prefs,u=e.paid_features,d=e.emoji_cache_ts,l=e.commands_cache_ts,_=e.can_manage_shared_channels,m=e.accept_tos_url,b=o()(e,["team","subteams","self","prefs","paid_features","emoji_cache_ts","commands_cache_ts","can_manage_shared_channels","accept_tos_url"]),p=c()({},n.prefs,{can_user_manage_shared_channels:_}),h=[].concat(i()(r.self)),v=function(e){var t=[].concat(i()(e.channels||[]),i()(e.ims||[]),i()(e.mpims||[])),n=e.channels_latest,r=[];if(t&&n)for(var o=e.last_read,a=void 0===o?{}:o,s=e.channels_priority,u=void 0===s?{}:s,d=e.is_open,l=void 0===d?[]:d,_=e.starred,f=void 0===_?[]:_,m=e.thread_only_channels,b=void 0===m?[]:m,p=e.read_only_channels,h=void 0===p?[]:p,v=l.reduce(function(e,t){return e[t]=!0,e},{}),O=f.reduce(function(e,t){return e[t]=!0,e},{}),g=b.reduce(function(e,t){return e[t]=!0,e},{}),w=h.reduce(function(e,t){return e[t]=!0,e},{}),j=t.length,y=0;y<j;y++){var I=t[y],T=I.id,k=n[T],S=D(I)||C(I)||!!k,A=a[T],E=u[T],F=!!O[T],P=!!v[T],B=!!g[T],L=!!w[T],R=D(I)||C(I)?c()({},I,{is_member:S,latest:k,last_read:A,priority:E,is_starred:F,is_open:P}):c()({},I,{is_member:S,latest:k,last_read:A,priority:E,is_starred:F,is_thread_only:B,is_read_only:L});r.push(R)}return r}(b),O=(e.ims||[]).map(function(e){return P(e)}),g=(t=e.mpims)?Object(f.a)(t,function(e,t){if(!t)return e;var n=B(t)||[];return e.push.apply(e,i()(n)),e},[]):[];return{selfData:a,teamData:n,teamPrefsData:p,userPrefsData:s,channelsData:v,membersToFetch:O.concat(g).filter(function(e,t,n){return n.indexOf(e)===t}),userGroupMembershipData:h,paidFeatures:u,emojiBootData:{cacheTs:d},slashCommandsBootData:{cacheTs:l},acceptTosUrl:m}}function x(e){var t=e.bootQueue,n=e.token,r=e.teamId;return Object(y.b)({bootQueue:t,token:n,teamId:r}).then(R)}},"0oUp":function(e,t,n){"use strict";var r=n("oTSI"),o=n("ifKl"),a=n("ZP0B");var i=n("juCJ"),s=n("lSe/"),c=n("Z7Ay"),u=n("rWF5"),d=n("afo6"),l="NETWORK-CONNECTIVITY",_=Object(r.a)(function(){return new d.a({testConnectivity:I,logLabel:l})}),f=function(){return _().waitForConnectivity()},m=(t.a=f,0),b=!1,p=!1,h=1e3,v=h,O=["https://a.slack-edge.com/f70ec/img/test_cdn_pixel.gif","https://b.slack-edge.com/f70ec/img/test_cdn_pixel.gif"],g=99,w=10,j=0,y=0;function I(){Object(s.d)(l,"Testing network connectivity...");var e=!b&&!p&&m&&m%w==0&&(Object(u.j)()||Object(u.u)());if(!1===navigator.onLine&&(Object(s.d)(l,"Browser says we\u2019re offline."),!(e||m%100===g))){m+=1;var t=new Error("Browser says we\u2019re offline");return t.retryAfter=v,t.totalRetryAttempts=m,Promise.reject(t)}var n=j-(Date.now()-y);if(n>0){var r="Waiting on CDN full backoff. Waiting an additional "+n+"ms";Object(s.d)(l,r);var i=new Error(r);return i.retryAfter=n,i.totalRetryAttempts=m,Promise.reject(i)}return y=Date.now(),T().tap(function(){!1===navigator.onLine&&e&&(p=!0,T().tap(function(){if(!1===navigator.onLine){Object(s.g)(l,"navigator.onLine appears to be untrustworthy; enabling workaround."),b=!0;try{Object.defineProperty(navigator,"onLine",{get:function(){return!0}})}catch(e){}}}).catch(o.a)),Object(s.d)(l,"Successfully fetched resources from the CDN. We\u2019re online!"),m=0}).catch(function(e){Object(s.d)(l,"Failed to fetch resources from the CDN with "+e+".");var t=new Error("Failed to fetch resources from the CDN");return j=Object(a.a)(e.map(function(e){return e&&e.retryAfter||h})),m+=1,t.totalRetryAttempts=m,t.retryAfter=v,Promise.reject(t)})}function T(){return Promise.any(O.map(function(e){return e+"?q="+(Date.now()*Math.random()).toString(36)}).map(function(e){return i.b.fetch({url:e})}))}Object(c.a)("waitForNetworkConnection",f)},"4v0o":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={allUnreads:"Vall_unreads",allThreads:"Vall_threads",search:"Vsearch"}},"90XA":function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return b}),n.d(t,"e",function(){return p}),n.d(t,"j",function(){return h}),n.d(t,"i",function(){return v}),n.d(t,"k",function(){return O}),n.d(t,"f",function(){return j}),n.d(t,"g",function(){return y}),n.d(t,"h",function(){return I});var r,o=n("YEIV"),a=n.n(o),i=n("QbLZ"),s=n.n(i),c=n("aK/h"),u=n("EzZj"),d=n("MNvw"),l=n("U/ze"),_=n("V6fv"),f="error",m="has_more",b="timestamp_too_old",p=Object(u.b)("Notify consumers that the we may have missed some events (due to an error, missing too many events, or timestamp being too old)");p.propTypes={reason:c.b.oneOf([f,m,b])};var h=Object(u.b)("Store the event_ts of the last rtm message we processed prior to losing our connection");h.propTypes=c.b.string;var v=Object(u.b)("Set a value that represents whether we are currently in the boot phase");v.propTypes=c.b.bool;var O=Object(u.b)("Set a value that represents whether we are currently performing a warm boot");O.propTypes=c.b.bool;var g={eventlogGapCount:0,lastKnownEventTimestamp:void 0,bootInFlight:!0,warmBootInFlight:!1},w=Object(d.b)((r={},a()(r,p,function(e){return s()({},e,{eventlogGapCount:e.eventlogGapCount+1})}),a()(r,h,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(_.b)();return t?s()({},e,{lastKnownEventTimestamp:t}):e}),a()(r,v,function(e,t){return s()({},e,{bootInFlight:t})}),a()(r,O,function(e,t){return s()({},e,{warmBootInFlight:t})}),r),g,{persistenceEnabled:!0,beforeWriteTransform:function(e){return s()({},e,{bootInFlight:g.bootInFlight,warmBootInFlight:g.warmBootInFlight})}});w.propTypes={eventlogGapCount:c.b.number,lastKnownEventTimestamp:c.b.string,bootInFlight:c.b.bool,warmBootInFlight:c.b.bool},t.d=w;Object(l.b)(function(e){return e&&e.consistency&&e.consistency.eventlogGapCount});var j=Object(l.b)(function(e){return e&&e.consistency&&e.consistency.lastKnownEventTimestamp}),y=Object(l.b)(function(e){return e&&e.consistency&&e.consistency.bootInFlight}),I=Object(l.b)(function(e){return e&&e.consistency&&e.consistency.warmBootInFlight})},FN36:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("U/ze"),o=Object(r.b)(function(e,t){return e&&e.prefs&&e.prefs.team&&e.prefs.team[t]})},POHe:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=new Map},V6fv:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=/^p?(\d{10})\.?(\d{6})$/;function o(e){return e&&r.test(e)?e.replace(r,"$1.$2"):null}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return e?o(String((+e/1e3).toFixed(6))):null}},VL9c:function(e,t,n){"use strict";var r=n("oTSI"),o=n("lSe/"),a=n("Z7Ay"),i=n("1PKr"),s=n("eK5+"),c=n("Zr7G"),u=n("afo6"),d="API-CONNECTIVITY",l=Object(s.a)(100),_=Object(r.a)(function(){return new u.a({testConnectivity:v,logLabel:d,metricsLabel:"api",shouldCollectConnectivityMetrics:l})}),f=function(){return _().waitForConnectivity()};t.a=f;var m=0,b=1e3,p=function(){return new i.b({method:"api.test",maxRetryAfter:6e4,args:{_x_reason:"api_connectivity_test"}}).send()},h=p;function v(){return Object(o.d)(d,"Testing API connectivity..."),h().tap(function(){l&&m&&Object(c.a)().count("cm_api_connected_with_retries",m),Object(o.d)(d,"Successfully fetched from api.test. Onward!"),m=0}).catch(function(e){Object(o.d)(d,"Failed to fetch from api.test "+e+".");var t=new Error("Failed to fetch from api.test");return t.retryAfter=e.retryAfter||b,m+=1,t.totalRetryAttempts=m,Promise.reject(t)})}Object(a.a)("waitForApiConnection",f),Object(a.a)("mockServiceDisconnection",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42,t=0;h=function(){return(t+=1)===e?(t=0,h=p,Promise.resolve()):Promise.reject(new Error("Shhhh... we\u2019re pretending to have a bad time."))},window.slackDebug.activeTeam.api.q.debugServiceDisconnect()})},VMwU:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"k",function(){return d}),n.d(t,"h",function(){return l}),n.d(t,"g",function(){return _}),n.d(t,"e",function(){return f}),n.d(t,"c",function(){return m}),n.d(t,"i",function(){return b}),n.d(t,"d",function(){return p}),n.d(t,"l",function(){return h}),n.d(t,"j",function(){return g}),n.d(t,"b",function(){return w});var r=n("m1cH"),o=n.n(r),a=n("sk9p"),i=n.n(a),s=n("rWF5"),c={column_bg:"#3F0E40",menu_bg:"#350d36",active_item:"#1164A3",active_item_text:"#FFFFFF",hover_item:"#350D36",text_color:"#FFFFFF",active_presence:"#2BAC76",badge:"#CD2553"},u=function(e){if(!e)return null;var t="#"===e[0]?e.substring(1):e,n=parseInt(t,16),r=[n>>16&255,n>>8&255,n>>0&255];return t.length>6?[n>>24&255].concat(r):r},d=function(e){return"#"+e.map(function(e){var t=e.toString(16);return 1===t.length?"0"+t:t}).join("").toUpperCase()},l=function(e){var t=i()(e,4),n=t[0],r=t[1],a=t[2],s=t[3];if(0===r)return("number"==typeof s?[a,a,a,s]:[a,a,a]).map(function(e){return Math.round(255*e)});var c=Math.floor(n/60),u=n/60-c,d=a*(1-r),l=a*(1-r*u),_=a*(1-r*(1-u)),f=void 0;switch(c){case 0:f=[a,_,d];break;case 1:f=[l,a,d];break;case 2:f=[d,a,_];break;case 3:f=[d,l,a];break;case 4:f=[_,d,a];break;case 5:f=[a,d,l];break;default:throw new Error("hsvToRGB: impossible default reached")}return(f="number"==typeof s?[].concat(o()(f),[s]):f).map(function(e){return Math.round(255*e)})},_=function(e){var t=l(e);return d(t)},f=function(e){return function(e){var t=e.map(function(e){return e/255}),n=i()(t,4),r=n[0],o=n[1],a=n[2],s=n[3],c=Math.max(r,o,a),u=c-Math.min(r,o,a),d=c,l=0===d?0:u/d,_=void 0;if(0===u)_=0;else switch(c){case r:_=(o-a)/u%6;break;case o:_=(a-r)/u+2;break;case a:_=(r-o)/u+4;break;default:throw new Error("rgbToHSV: impossible default case reached")}(_*=60)<0&&(_+=360);var f=[_,l,d];return"number"==typeof s?[].concat(f,[s]):f}(u(e))},m=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).outputHex,r=void 0!==n&&n,o=u(e).map(function(e){return Math.min(Math.max(e-t,0),255)});return r?d(o):"rgb("+o.join(",")+")"},b=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).outputHex,r=void 0!==n&&n,o=u(e).map(function(e){return Math.max(Math.min(e+t,255),0)});return r?d(o):"rgb("+o.join(",")+")"},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useGlobalNav,r=t.featureClassicNav,o=void 0;o=n||r?Object(s.B)()?.65:.75:Object(s.B)()?.6:.7;var a=u(e.text_color),i=u(e.column_bg);return"rgb("+a.map(function(e,t){return Math.round(e*o+i[t]*(1-o))}).join(",")+")"},h=function(e,t){return e&&t?"rgba("+u(e).slice(0,3).join(",")+","+t+")":null},v=/[A-F0-9]{6}/,O=/[A-F0-9]{8}/,g=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var n=e.trim().toUpperCase();return"#"===n[0]&&(n=n.slice(1)),(3===n.length||4===n.length&&t)&&(n=n.split("").map(function(e){return""+e+e}).join("")),t&&6===n.length&&(n+="FF"),(t?O:v).exec(n)&&n},w=function(e,t){return"0 0 0 1px "+e+", 0 0 0 5px "+t}},VjHM:function(e,t,n){"use strict";n.d(t,"h",function(){return d}),n.d(t,"a",function(){return l}),n.d(t,"i",function(){return _}),n.d(t,"c",function(){return f}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return b}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return h}),n.d(t,"b",function(){return v});var r=n("bPB8"),o=n("U/ze"),a=n("ZS+m"),i=n("yHhI"),s=n("x4bP"),c=n("uf9I"),u=n("FN36"),d=Object(o.b)(function(e,t){if(!Object(s.a)()||"locale"!==t)return e&&e.prefs&&e.prefs.user&&e.prefs.user[t];var n=Object(i.a)({teamId:Object(c.b)(e)});"locale"===t?n.warn("Attempted to fetch user 'locale' pref. Use `getLocale` from `@slack/infra/i18n` to get the user's current locale!"):n.error("Attempted to fetch undefined user pref "+t+".")}),l=Object(o.b)(function(e){return e&&e.prefs&&e.prefs.user&&e.prefs.user.locale}),_=Object(o.b)(function(e){var t=d(e,"display_real_names_override");return 1===t||-1!==t&&!!Object(u.a)(e,"display_real_names")}),f=Object(o.b)(function(e){var t=d(e,"enterprise_excluded_app_teams")||"";return Object(r.a)((t||"").toString().split(","))}),m=Object(o.b)(function(e){return d(e,"newxp_suggested_channels")||""}),b=Object(a.a)(function(e){return d(e,"unread_collapsed_channels")},function(e){return e?Object(r.a)(e.split(",")):[]}),p=Object(a.a)(function(e){return d(e,"sidebar_theme_custom_values")},function(e){try{return JSON.parse(e)}catch(e){return}}),h=Object(a.a)(function(e){return d(e,"dismissed_installed_app_dm_suggestions")},function(e){return e&&""!==e?e.split(",").reduce(function(e,t){return e[t]=!0,e},{}):{}}),v=Object(a.a)(function(e){return d(e,"app_action_picker")},function(e){try{return JSON.parse(e)||{}}catch(e){return{}}})},"ZS+m":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("peh1"),o=n("uf9I");function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var a={};return function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];var c=Object(o.b)(e)||"default";if(!a[c]){var u=r.createSelector.apply(void 0,t);a[c]=u}return a[c].apply(a,[e].concat(i))}}},afo6:function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n("iCc5"),o=n.n(r),a=n("V7oC"),i=n.n(a),s=n("lSe/"),c=n("q/xz"),u=n("Zr7G"),d=10,l=3e5,_=function(){function e(t){var n=t.maxAttempts,r=void 0===n?d:n,a=t.maxRetryAfter,i=void 0===a?l:a,s=t.logLabel,u=void 0===s?"CONNECTIVITY-MANAGER":s,_=t.metricsLabel,f=t.testConnectivity,m=t.shouldCollectConnectivityMetrics,b=void 0!==m&&m;if(o()(this,e),!f||"function"!=typeof f)throw new Error("ConnectivityManager requires a testConnectivity function.");this._testConnectivity=f,this._logLabel=u,this._metricsLabel=_,this._shouldCollectConnectivityMetrics=!(!b||!_),this._numberOfAttempts=0,this._retryAfter=0,this._maxAttempts=r,this._maxRetryAfter=i,this._retryTimeout=null,this._promiseToTestConnection=null,Object(c.a)(this)}return i()(e,[{key:"waitForConnectivity",value:function(){var e=this;return this._promiseToTestConnection||(this._shouldCollectConnectivityMetrics&&Object(u.a)().count("cm_flow_wait_for_connectivity_"+this._metricsLabel),this._promiseToTestConnection=this._testConnection().tap(function(){e._shouldCollectConnectivityMetrics&&Object(u.a)().count("cm_flow_connected_"+e._metricsLabel)}).finally(function(){e._reset()})),this._promiseToTestConnection}},{key:"_testConnection",value:function(){var e=this;return this._testConnectivity().catch(function(t){return e._promiseToRetryLater({retryAfter:t&&t.retryAfter,totalRetryAttempts:t&&t.totalRetryAttempts})})}},{key:"_promiseToRetryLater",value:function(e){var t=this,n=e.retryAfter,r=void 0===n?this._retryAfter:n,o=e.totalRetryAttempts,a=void 0===o?this._numberOfAttempts:o;window.clearTimeout(this._retryTimeout);var i=Math.min(r,this._maxRetryAfter);return this._numberOfAttempts+=1,this._numberOfAttempts>=this._maxAttempts?(Object(s.d)(this._logLabel,"Failed to establish a connection after "+a+" attempt(s)."),this._shouldCollectConnectivityMetrics&&Object(u.a)().count("cm_flow_err_exceeded_max_retries_"+this._metricsLabel),Promise.reject(new Error("exceeded_maximum_retries"))):(this._shouldCollectConnectivityMetrics&&Object(u.a)().count("cm_flow_failed_to_connect_"+this._metricsLabel),Object(s.d)(this._logLabel,"Failed to establish a connection after "+a+" attempt(s); Retrying in "+i+"ms."),new Promise(function(e){t._retryTimeout=window.setTimeout(function(){e(t._testConnection())},i)}))}},{key:"_reset",value:function(){this._numberOfAttempts=0,this._promiseToTestConnection=null,window.clearTimeout(this._retryTimeout),this._retryTimeout=null}}]),e}()},bmqc:function(e,t,n){},btH0:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("wHps");function o(e){return Object.values(r.a).includes(e)}},cW5R:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return i});var r=n("Z7Ay");function o(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o="";if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),o="; expires="+a.toGMTString()}var i=r?"; domain="+r:"";document.cookie=e+"="+t+o+i+"; path=/"}function a(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null}function i(e){return"string"!=typeof e?{}:e.split(";").reduce(function(e,t){for(var n=t.indexOf("="),r=t.slice(0,n),o=t.slice(n+1),a=0;" "===r[a];)a+=1;return e[r.slice(a)]=o,e},{})}Object(r.a)("cookie",{createCookie:o,eraseCookie:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o(e,"",-1,t?"; domain="+t:"")},readCookie:a,parseCookies:i})},"d/52":function(e,t,n){"use strict";n.r(t);var r=n("QbLZ"),o=n.n(r),a=n("/74f"),i=n("Omjo"),s=n("qe1s"),c=n("4Ms+"),u=n("Gogr"),d=n("lKeU"),l=n("TSHB"),_=n("m8R6"),f=n("fujP"),m=n("ifKl"),b=n("7EGn"),p=n("VMwU"),h=n("cErB"),v=function(){return!!window.desktop},O=function(){return Object(b.a)(window,"desktop.store.getState",m.a)()},g=function(){var e=O(),t=e.teams,n=e.enterprise;if(!t)return null;var r=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).theme;return e&&e.column_bg&&Object(p.c)(e.column_bg,20)},o=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).team_id;return n&&n[e]&&n[e].enterpriseId},a=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).team_url;if(!e)return"";var t=Object(h.j)(e),n=t.host;return t.protocol+"//"+n+"/"},i=Object.keys(Object(u.c)("teams")||{}),s=Object(_.a)(t,i);return Object(l.a)(s,function(e){return{id:e.team_id,name:e.team_name,url:a(e),token:e.token,user_locale:e.locale,user_id:e.id,icon:e.icons,channelSidebarBackground:e.theme&&e.theme.column_bg,enterprise_id:o(e),teamSwitcherBackground:r(e),isExpired:!0}})};var w=n("vATg"),j=n("sDWr"),y=n("KXvl"),I=(n("bmqc"),".p-client_container_placeholder");function T(){var e=document.querySelector(I);e&&e.remove()}var k=n("JtEI"),S=n("A4VO");window.sonic_boot__phase_1_5__duration=Date.now()-window.sonic_boot__phase_1_5__start,window.sonic_boot__phase_2__start=Date.now(),Promise.resolve(Object(c.b)({label:"setupGantry_"+Object(k.a)(Object(S.a)())},a.a)).then(function(e){var t=e.teamId,n=e.forceColdBoot,r=e.triggerSignInAfterBoot;return window.desktop&&!Object(u.c)("migratedDesktopLocalConfig")&&(!function(){var e=Object(u.c)("prevTeams"),t=Object(f.a)(e)?v()&&g():e;Object(u.h)("prevTeams",t);var n=Object(u.c)("orderedTeamIds"),r=Object(f.a)(n)?Object(b.a)(O(),"appTeams.teamsByIndex",[]):n;Object(u.h)("orderedTeamIds",r)}(),Object(u.h)("migratedDesktopLocalConfig",!0)),function(e){var t=e.teamId,n=e.showTeamSwitcher,r=void 0!==n&&n,o=Object(u.d)(t,"channelSidebarBackground"),a=Object(u.d)(t,"teamSwitcherBackground"),i=document.querySelector(I);i&&(o?(Object(y.b)()&&r&&(i.classList.add("p-client_container_placeholder--with-team-switcher"),i.style.borderLeftColor=a),i.style.backgroundColor=o,i.style.display="block"):T())}({teamId:t,showTeamSwitcher:Object(d.a)().length>1}),Object(c.b)({label:"bootClient_"+Object(k.a)(n)},function(){return Object(j.q)(),t!==Object(u.c)("lastActiveTeamId")&&Object(u.h)("lastActiveTeamId",t),Object(s.a)({teamId:t,shouldSetFocus:!0}).then(function(e){var t=Date.now(),n=e.store,a=e.bootAssets,i=e.isWarmBooting,s=a.isJsPath,c=a.mountClient,u=a.isReload,d=a.isQa,l=a.isDev,_=a.registerGlobalErrorHandler,f=a.registerGlobalBeforeunloadHandler,m=a.registerNetworkConnectivityListener;_(),f(),m();var b=n.getState(),p=a.getTelemeter({state:b}),h=i?"warm":"cold";s||l||d||(p.store("sonic_boot_phase_2_"+h,Date.now()-window.sonic_boot__phase_2__start),u()&&p.count("sonic_boot_via_reload"));var v=!0;return T(),c(document.querySelector(".p-client_container"),function(){s||l||d||!v||(p.store("sonic_boot_phase_3_"+h,Date.now()-t),v=!1)}),o()({},e,{triggerSignInAfterBoot:r})})})}).catch(function(e){T(),Object(w.f)(e,{locationHref:window.location.href,lsConfig:localStorage.localConfig_v1,shouldRetry:!0})}).tap(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bootAssets;if(!e.triggerSignInAfterBoot)return;var n=t.addWorkspace;(0,t.getClientStoreInstance)().dispatch(n())}).then(function(e){if(!Object(y.b)())return Promise.resolve(e);var t=e.teamId,n=e.bootAssets.getAllWorkspacesFromLocalConfig(),r=e.bootAssets.getWorkspacesMetaFromLocalConfig(),o=n.filter(function(e){return r[e]&&!r[e].isExpired}).filter(function(e){return e!==t});return Object(i.b)("BOOT","Booting other teams: "+o.join(",")),o.map(function(e){return s.a.bind(null,{teamId:e})}).reduce(function(e,t,n){return e.catch(function(e){Object(w.a)(o[n-1],e)}).finally(t)},Promise.resolve()).then(function(){return e})}).then(function(e){var t=e.bootAssets,n=t.isJsPath,r=t.isProduction,o=t.removeUrlQueryStringValue;if(r&&!n&&window.location.search.match("force_cold_boot")){var a=o(window.location.href,"force_cold_boot");window.history.replaceState({},"",a)}return Promise.resolve(e)}).then(function(e){return(0,e.bootAssets.storeSSBMemoryStatsOnAnInterval)(),Promise.resolve(e)}).then(function(e){return(0,e.bootAssets.storeReduxStoreStatsOnAnInterval)(),Promise.resolve(e)}).then(function(e){return(0,e.bootAssets.registerServiceWorkerAndUpdateOnAnInterval)(),Promise.resolve(e)}).then(function(e){var t=e.bootAssets.getAllWorkspacesFromLocalConfig();return e.bootAssets.clearAllPersistedDataExceptForTeamIds(t).then(function(){return e})})},hYgc:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("fujP"),o=n("jzln"),a=n("HLHh"),i=n("Gogr"),s=n("Omjo"),c=n("Z0v/"),u=n("JtEI"),d={};function l(e){var t=e.teamId,n=e.forceAPI,l=void 0!==n&&n;return new Promise(function(e){var n=document.documentElement,_=n&&n.dataset?n.dataset.minVersionDataTs:0,f=Object(i.d)(t,"versionDataTs"),m=!f||f<_;if(m?Object(s.b)("BOOT","("+t+") Skipping checking persisted store because if it exists it's out of date"):l&&Object(s.b)("BOOT","("+t+") Skipping persisted store if it exists because we're forcing fresh data fetch anyway"),l||m)e(!1);else{Object(a.a)()||(Object(s.b)("BOOT","("+t+") indexedDB is unavailable, not checking for a persisted store"),e(!1));var b=Object(i.d)(t,"user_id"),p=Object(c.z)({appName:Object(u.c)(),teamId:t,userId:b});if(Object(o.a)()){var h=function(e){return!(!e||Object(r.a)(e.bootData))}(d["persist:"+p]);e(h)}else{var v=window.indexedDB.open(c.c);v.onsuccess=function(){try{var n=v.result.transaction(c.f).objectStore(c.f),r="persist:"+p,o=n.getKey(r);o.onsuccess=function(){var t=o.result===r;e(t)},o.onerror=function(){Object(s.b)("BOOT","("+t+") Error accessing indexedDB store"),e(!1)}}catch(n){Object(s.b)("BOOT","("+t+") Unable to find store in indexedDB: "+n),e(!1)}v.onerror=function(){Object(s.b)("BOOT","("+t+") Error opening indexedDB"),e(!1)}}}}})}},j04V:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return d});var r=n("U/ze"),o=n("VjHM"),a=n("HO/Y"),i=n("Smdl"),s=Object(r.b)(function(e){return"none"!==Object(o.h)(e,"welcome_place_state")&&Object(a.i)(e,"feature_jira_newxp_2372")}),c=Object(r.b)(function(e){return"enabled"===Object(o.h)(e,"welcome_place_state")&&Object(a.i)(e,"feature_jira_newxp_2372")}),u=(Object(r.b)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.channelId,r=t.messageTimestamp;return e&&e.welcomePlace&&e.welcomePlace.channelMessages&&e.welcomePlace.channelMessages[n]&&e.welcomePlace.channelMessages[n][r]}),Object(r.b)(function(e){return e&&e.welcomePlace&&e.welcomePlace.items})),d=Object(r.b)(function(e){if(!Object(i.a)())throw new Error("this selector can not be used from Legacy");return c(e)&&e.welcomePlace&&e.welcomePlace.isOpenedFromSonicBoot})},lKeU:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("cZF4"),o=n("Muja"),a=n("0VPD"),i=n("Gogr");function s(){var e=Object.keys(Object(i.c)("teams")||{}),t=Object.keys(Object(i.c)("prevTeams")||{}),n=Object(r.a)(e,t),s=Object(i.c)("orderedTeamIds"),c=Object(r.a)(Object(a.a)(s,n),e);return Object(o.a)(c,s)||Object(i.h)("orderedTeamIds",c),c}},qe1s:function(e,t,n){"use strict";var r=n("YEIV"),o=n.n(r),a=n("sk9p"),i=n.n(a),s=n("QbLZ"),c=n.n(s),u=n("xnu4"),d=n("Omjo"),l=n("lhZz"),_=n("8Az7"),f=n("vATg"),m=n("A4VO"),b=n("Gogr"),p=n("rkcT"),h=n("cewN"),v=n("cErB"),O=n("cW5R"),g=["force_cold_boot"];var w=n("IbTH"),j=n("90XA"),y=n("nNoG"),I=n("BNw7"),T=n("toaU"),k=n("POHe"),S=n("iTOt"),A=n("0QyR"),E=n("jngr"),F=n("JtEI"),D=n("TdUT"),C=n("DlLn"),P=n("KXvl");function B(e){if(!e.shouldSetFocus)return Promise.resolve(e);var t=e.teamId,n=e.bootAssets,r=n.configureClientStore,o=n.getAllWorkspacesFromLocalConfig,a=n.getWorkspacesMetaFromLocalConfig,i=n.initializeWorkspacesStore,s=r(),c=Object(P.b)()?o():[t],u=a();return s.dispatch(i({focusedWorkspace:t,allWorkspaces:c,workspacesMeta:u})),Promise.resolve(e)}function L(e){return e.shouldSetFocus?(e.bootAssets.registerRouteListeners(),Promise.resolve(e)):Promise.resolve(e)}var R="ensure_boot_data_failed",x=["user_removed_from_team","invalid_auth","not_authed","org_login_required","userLogin"],U="accesslimited";function W(e,t){if(window.isReloading)return Object(d.b)("BOOT","("+e.teamId+") Ongoing reload detected during ensure boot data error handler; Halting execution."),Object(I.a)();if(t&&t.data&&t.data.error&&x.includes(t.data.error)&&!t.doNotFetchAuth)return Object(C.c)();var r=!!(t&&t.data&&t.data.active_migration),o=!(!t||!t.data||t.data.error!==U),a=c()({},e,{bootFailedDueToOrgMigration:r,bootFailedDueToAccessLimited:o});return r||(Object(d.a)("Caught boot data error",t),Object(E.a)({err:t,teamId:e.teamId,description:Object(F.c)()+" boot failed to fetch boot data",subtype:Object(F.c)()+"_boot_data_error",version:Object(D.a)()})),function(e){var t=function(e){return Promise.all([n.e(0),n.e(97),n.e(107),n.e(10),n.e(24)]).then(n.bind(null,"OrkY")).then(function(t){return c()({},e,{bootAssets:t})})}(e);e.shouldSetFocus&&(t=t.then(M));return t.then(N)}(a).then(function(e){var t=new Error(R);throw t.context=e,t})}function M(e){return B(e).then(L).then(function(){return(0,e.bootAssets.registerServiceWorkerAndUpdateOnAnInterval)(),Promise.resolve(e)})}function N(e){var t=e.teamId,n=e.bootAssets,r=e.bootFailedDueToOrgMigration,o=e.bootFailedDueToAccessLimited,a=n.configureStore,i=n.reducers,s=n.setWorkspaceFailedToBoot,u=n.setWorkspaceIsMigrating,l=n.setWorkspaceIsAccessLimited,_=n.getClientStoreInstance,f=n.navigateToRoute,m=n.setWillNavigateToUnbootedWorkspaceId,b=n.getWillNavigateToUnbootedWorkspaceId;Object(d.c)("BOOT","("+e.teamId+") failed to create store; initializing empty team store");var p=a({teamId:t,initialState:{},reducers:i}),h=c()({},e,{store:p}),v=_();return v.dispatch(s(t)),r&&v.dispatch(u(t)),o&&v.dispatch(l(t)),b(v.getState())===t?(f(T.a,{teamId:t},{reason:"delayed-unbooted-team-switch"}),v.dispatch(m(null)),Promise.resolve(e)):Promise.resolve(h)}n.d(t,"a",function(){return G});var H={};function G(e){var t=e.teamId,n=e.shouldSetFocus,r=void 0!==n&&n;return window.isReloading?(Object(d.b)("BOOT","("+t+") Ongoing reload detected; Cancelling boot."),Object(I.a)()):H[t]?H[t]:(H[t]=function(e,t){Object(d.b)("BOOT","("+e+") Initializing boot");var n=Object(m.a)(),r=Object(b.d)(e,"token"),o=Object(h.a)(window.location.search),a=function(e,t){var n={},r=c()({},Object(O.b)(t),Object(h.c)(e));return Object.keys(r).forEach(function(e){if(e.startsWith("force_")&&!g.includes(e)&&r[e]){var t=e.slice(6);r[e].split(",").forEach(function(e){var r="all",o=e,a=e.indexOf(":");a>=0&&(r=e.slice(0,a),o=e.slice(a+1)),n[r]||(n[r]={}),n[r][t]=o})}}),n}(window.location.search,document.cookie);return Promise.resolve({teamId:e,teamToken:r,forceColdBoot:n,featureFlagURLOverrides:o,experimentGroupOverrides:a,shouldSetFocus:t,shouldRetry:!0})}(t,r).then(function(e){return(n=e,Object(_.c)(n.teamToken,n.teamId),Promise.resolve(n)).then(Q).then(V).then(q).then(X).then(B).then(L).then(K).then(Z).then(Y).then(z).then(J).then(ee).then(te).then(ne).then(re).then(oe).then(ae).then(ie).then(se).then(ce).catch(function(n){return $(t),n&&n.message===R?n.context:Object(f.f)(n,c()({},e,{teamId:t,locationHref:window.location.href,lsConfig:localStorage.localConfig_v1,doRenderClientErrorView:!0}))});var n}),H[t])}function Q(e){var t={},r=e.teamId,o=e.teamToken,a=e.forceColdBoot,s=e.shouldSetFocus,u=e.store,d=Object(p.c)({store:u,shouldSetFocus:s});if(!d){var l=Object(p.d)(r);l&&(d=l)}var _=[Promise.all([n.e(0),n.e(97),n.e(107),n.e(10),n.e(24)]).then(n.bind(null,"OrkY")).then(function(e){return t.sonic_boot__phase_2_2_1_1__duration=Date.now()-window.sonic_boot__phase_2__start,e}).catch(f.b.bind(null,r)),Object(A.a)({teamId:r,teamToken:o,routeInfo:d,forceAPI:a}).then(function(e){return t.sonic_boot__phase_2_2_1_2__duration=Date.now()-window.sonic_boot__phase_2__start,e}).catch(W.bind(null,e)),Object(w.a)(Object(y.p)({recalc:!0,teamId:r})).then(function(e){return t.sonic_boot__phase_2_2_1_3__duration=Date.now()-window.sonic_boot__phase_2__start,e}).catch(f.d.bind(null,r))];return Promise.all(_).then(function(n){var r=i()(n,2),o=r[0],a=r[1];t.sonic_boot__phase_2_2_1__duration=Date.now()-window.sonic_boot__phase_2__start,t.sonic_boot__phase_2_2_2__start=Date.now();var s="cached"===a;return c()({},e,{bootAssets:o,bootData:a,isWarmBooting:s,timing:t,routeInfo:d})})}function V(e){var t=e||{},n=t.bootData,r=t.isWarmBooting,o=t.teamId;if(r)return Promise.resolve(e);var a=n||{},i=a.miscBootData,s=(a.teamData||{}).domain,c=(i||{}).acceptTosUrl;if(!c||!s)return Promise.resolve(e);var u=Object(h.e)(location.search,"force_cold_boot",1),l="/gantry"+location.pathname+u,_=Object(v.o)(c,"redirect",l);return Object(d.b)("BOOT","("+o+") User needs to accept the terms of service; redirecting to "+_),location.assign(_),Object(I.a)()}function q(e){var t=e.teamId,n=e.bootAssets,r=n.setLocale,o=n.getLocale;return Promise.resolve(r(o({teamId:t,recalc:!0}),t,{shouldEnsureTranslationBundle:!1})).then(function(){return e})}function X(e){var t=e.teamId,n=e.isWarmBooting,r=e.bootAssets,o=e.featureFlagURLOverrides,a=e.bootData,i=r.getStoredModel,s=r.getImmediatelyPersistedState,u=r.reducers,d=r.purgeStoredModel,l=r.forceColdBoot;return(n?i(t,u):Promise.resolve({})).then(function(r){var i=c()({},r,{bootData:c()({},r.bootData,o)}),d=n?r&&r.bootData&&r.bootData.user_id:a&&a.selfData&&a.selfData.id,l=s({teamId:t,userId:d,reducerConfig:u,state:i});return c()({initialState:l,userId:d},e)}).catch(function(e){return Object(f.e)(t,d,l,e),Object(I.a)()})}function K(e){return(0,e.bootAssets.loadEmojiTranslations)(),e}function Z(e){var t=e.teamId;return e.bootAssets.populateTeamDebugger(t),Promise.resolve(e)}function Y(e){var t=e.teamToken,n=e.teamId;return e.bootAssets.maybeReloadForMinVersionBump({teamToken:t,teamId:n,reason:"sonic boot"}),Promise.resolve(e)}function z(e){if(!e.isWarmBooting)return e;Object(d.b)("BOOT","("+e.teamId+") Booting warm");var t=e.teamId,n=e.bootAssets,r=e.experimentGroupOverrides,o=e.initialState,a=void 0===o?{}:o,i=n.configureStore,s=n.reducers,u=n.overrideExperimentAssignments,l=i({teamId:t,initialState:a,reducers:s});l.dispatch(Object(j.k)(!0)),r&&r.all&&l.dispatch(u(r.all)),r&&r[t]&&l.dispatch(u(r[t]));var _=e.timing||{};_.sonic_boot__phase_2_2_2__duration=Date.now()-_.sonic_boot__phase_2_2_2__start;var f=c()({},e,{store:l,timing:_});return Promise.resolve(f)}function J(e){if(e.isWarmBooting)return e;Object(d.b)("BOOT","("+e.teamId+") Booting cold");var t=e.teamId,n=e.bootData,r=e.bootAssets,o=e.featureFlagURLOverrides,a=e.experimentGroupOverrides,i=e.shouldSetFocus,s=e.initialState,u=void 0===s?{}:s,l=r.dispatchBootData,_=r.query,f=r.upsertMembers,m=r.configureStore,b=r.reducers;return(0,r.checkForPersistenceMethodChanges)(t).then(function(){var r=m({teamId:t,reducers:b,initialState:u}),s=c()({},e,{store:r}),d=Object(p.c)({store:r,shouldSetFocus:i});if(r.dispatch(Object(j.k)(!1)),!d){var h=Object(p.d)(t);h&&(d=h)}l(r,n,d,o,a),r.dispatch(_({method:"user_query_request",args:{ids:n.membersToFetch}})).then(function(e){r.dispatch(f({members:e.results}))});var v=s.timing||{};v.sonic_boot__phase_2_2_2__duration=Date.now()-v.sonic_boot__phase_2_2_2__start;var O=c()({},s,{timing:v});return $(t),Promise.resolve(O)})}function $(e){var t=Object(l.getStoreInstanceByTeamId)(e);t&&(Object(d.b)("BOOT","("+e+") Boot complete"),k.a.delete("setNavigatedDuringWarmBoot"),t.dispatch(Object(j.i)(!1)))}function ee(e){var t=e.store,n=e.teamId,r=e.bootAssets,a=r.getLocaleFeatureFlags,i=r.localesEnabled,s=r.queryStringParse,l=r.resetCredentials,_=r.removeUrlQueryStringValue,f=r.getLocale,m=a(t.getState()),b=i(Object.keys(m).reduce(function(e,t){return c()({},e,o()({},Object(u.a)(t),m[t]))},{})),p=s(window.location.search),h=f();return!b[h]&&Object.keys(p).includes("locale")?(Object(d.b)("BOOT","team "+n+" attempted to boot into locale "+h+" which has not been enabled; clearing credentials and reloading app"),l(),window.location=_(window.location.href,"locale"),Object(I.a)()):Promise.resolve(e)}function te(e){var t=e.shouldSetFocus,n=e.store,r=e.bootAssets,o=e.isWarmBooting,a=e.teamId,i=r.getRouteName,s=r.getRouteParams,c=r.updateCurrentRoute,u=r.getCurrentRouteInfo,d=r.navigateToRoute,l=r.getClientStoreInstance,_=r.setWillNavigateToUnbootedWorkspaceId,f=r.getWillNavigateToUnbootedWorkspaceId,m=l();if(f(m.getState())===a)return d(T.a,{teamId:a},{reason:"delayed-unbooted-team-switch"}),m.dispatch(_(null)),Promise.resolve(e);if(!t)return Promise.resolve(e);if(o){var b=u(window.location.pathname,{throwOnNoRoute:!1});if(b&&b.params&&b.params.entityId)n.dispatch(c(b));else{var h=Object(p.d)(a);h&&n.dispatch(c(h))}}if(Object(S.f)(n.getState()))return Promise.resolve(e);var v=n.getState();return d(i(v),s(v),{shouldReplaceState:!0}),Promise.resolve(e)}function ne(e){var t=e.store,n=e.bootAssets,r=e.isWarmBooting?"warm":"cold";return t.dispatch(n.setBootType(r)),Promise.resolve(e)}function re(e){var t=e.teamId,n=e.bootAssets,r=e.store,o=n.getClientStoreInstance,a=n.setWorkspaceBooted,i=n.setWindow,s=n.getWindow,c=n.hasWorkspaceFailedToBoot,u=o(),d=u.getState(),l=s(d);return r.dispatch(i(l)),c(d,t)?Promise.resolve(e):(u.dispatch(a(t)),Promise.resolve(e))}function oe(e){if("cached"===e.bootData)return e;var t=e.bootAssets.setLocalConfigForTeamWithKey,n=document.documentElement,r=!(!n||!n.dataset)&&n.dataset.versionTs;return"dev"!==r&&(r=parseInt(r,10)),t(e.teamId,"versionDataTs",r),Promise.resolve(e)}function ae(e){return e.bootAssets.connectSocket(e)}function ie(e){var t=e.bootData,n=e.bootAssets,r=e.store,o=e.teamId,a=e.teamToken,i=e.featureFlagURLOverrides,s=e.experimentGroupOverrides,u=n.dispatchBootData,l=n.maybeReloadSlashCommands,_=n.maybeReloadEmoji,f=n.fetchAndUpsertWhatsNewUpdates,m=n.loadAppActions,b=n.createDesktopDelegate,h=n.shouldSetFocus;if("cached"===t){Object(d.b)("BOOT","("+o+") Fetching fresh boot data after booting with persisted store");var v=Object(p.c)({store:r,shouldSetFocus:h});Object(A.a)({teamId:o,teamToken:a,routeInfo:v,forceAPI:!0}).then(function(t){r.dispatch(Object(j.k)(!1)),u(r,t,v,i,s);var n=c()({},e,{isWarmBooting:!1});te(n),V(c()({},n,{bootData:t})),ce(e)}).finally(function(){$(o)})}return setTimeout(function(){r.dispatch(b()),r.dispatch(l()),r.dispatch(_()),r.dispatch(m()),r.dispatch(f({reason:"boot-team"}))},0),Promise.resolve(e)}function se(e){var t=e.store,n=e.bootAssets,r=e.shouldSetFocus,o=e.isWarmBooting,a=e.timing,i=n.getTelemeter,s=n.isJsPath,c=n.isQa,u=n.isDev,d=n.getDesktopPreloadTime,l=i({state:t.getState()}),_=o?"warm":"cold";if(s||u)return Promise.resolve(e);if(c)return Promise.resolve(e);if(r){var f=n.isReload()?"_reload":"";l.count("sonic_boot"),n.isReload()&&l.count("sonic_boot_reload");var m=d(window.desktop);if(m>0&&l.store("sonic_boot_desktop_preload"+f,m),window.performance&&window.performance.getEntriesByName){var b=""+window.location.origin+window.location.pathname,p=window.performance.getEntriesByName(b);if(p&&p[0]){var h=p[0],v=h.requestStart-h.workerStart,O=0===v?"awake":"asleep";l.count("sonic_boot_sw_status_"+O),l.store("sonic_boot_sw_startup_time_"+_,v)}}window.performance&&window.performance.timing&&(l.store("sonic_boot_window__connectStart_"+_+f,window.performance.timing.connectStart-window.performance.timing.fetchStart),l.store("sonic_boot_window__connectEnd_"+_+f,window.performance.timing.connectEnd-window.performance.timing.fetchStart),l.store("sonic_boot_window__requestStart_"+_+f,window.performance.timing.requestStart-window.performance.timing.fetchStart),l.store("sonic_boot_window__responseStart_"+_+f,window.performance.timing.responseStart-window.performance.timing.fetchStart),l.store("sonic_boot_window__responseEnd_"+_+f,window.performance.timing.responseEnd-window.performance.timing.fetchStart),l.store("sonic_boot_window__domLoading_"+_+f,window.performance.timing.domLoading-window.performance.timing.fetchStart)),l.store("sonic_boot_phase_1_"+_+f,window.sonic_boot__phase_1__duration+m),l.store("sonic_boot_phase_2_1_"+_,0),l.store("sonic_boot_phase_1_5_"+_,window.sonic_boot__phase_1_5__duration);var g=Date.now()-window.sonic_boot__phase_2__start;l.store("sonic_boot_phase_2_2_"+_,g),l.store("sonic_boot_phase_2_2_1_"+_,a.sonic_boot__phase_2_2_1__duration),l.store("sonic_boot_phase_2_2_1_1_"+_,a.sonic_boot__phase_2_2_1_1__duration),l.store("sonic_boot_phase_2_2_1_2_"+_,a.sonic_boot__phase_2_2_1_2__duration),l.store("sonic_boot_phase_2_2_1_3_"+_,a.sonic_boot__phase_2_2_1_3__duration),l.store("sonic_boot_phase_2_2_2_"+_,a.sonic_boot__phase_2_2_2__duration),l.store("sonic_boot_phase_2_2_3_"+_,g-a.sonic_boot__phase_2_2_1__duration-a.sonic_boot__phase_2_2_2__duration)}return Promise.resolve(e)}function ce(e){var t=e.teamId,n=e.store,r=e.bootAssets,o=n.getState();return r.saveColorsToLocalConfig(t,o),Promise.resolve(e)}},sDWr:function(e,t,n){"use strict";var r=n("YEIV"),o=n.n(r),a=n("kLJo"),i=n("toaU"),s=n("/gpl"),c=n("J9z2"),u=n("+1yX"),d=n("UUlk"),l=n("FHcd"),_=n("k2C/"),f=n("uFGw"),m=/^[\d]{10}\.[\d]{6}$/;function b(e){return m.test(e)}var p=/^(C|G|D)[A-Z0-9]{8}-[\d]{10}\.[\d]{6}$/;var h=n("NFsq"),v=n("wA8W");var O=n("btH0"),g=n("+Sjy");n.d(t,"a",function(){return w}),n.d(t,"k",function(){return j}),n.d(t,"d",function(){return I}),n.d(t,"b",function(){return T}),n.d(t,"j",function(){return k}),n.d(t,"h",function(){return S}),n.d(t,"g",function(){return A}),n.d(t,"n",function(){return D}),n.d(t,"m",function(){return C}),n.d(t,"p",function(){return P}),n.d(t,"i",function(){return B}),n.d(t,"f",function(){return L}),n.d(t,"e",function(){return R}),n.d(t,"o",function(){return x}),n.d(t,"c",function(){return U}),n.d(t,"l",function(){return W}),n.d(t,"q",function(){return N});var w="ROUTE_ENTITY",j="ROUTE_FLEX_THREAD",y="ROUTE_FLEX_CHANNEL_INFO",I="ROUTE_FLEX_DETAILS",T="ROUTE_FLEX_ACTIVITY_PANE",k="ROUTE_FLEX_STARRED",S="ROUTE_FLEX_FILES",A="ROUTE_FLEX_FILE",E="ROUTE_FLEX_FILE_TYPE",F="ROUTE_FLEX_FILE_USER",D="ROUTE_FLEX_USER_GROUPS",C="ROUTE_FLEX_USER_GROUP",P="ROUTE_FLEX_WHATS_NEW",B="ROUTE_FLEX_SHORTCUTS",L="ROUTE_FLEX_DOWNLOADS",R="ROUTE_FLEX_DIRECTORY",x="ROUTE_FLEX_USER_PROFILE",U="ROUTE_FLEX_APP_PROFILE",W="ROUTE_FLEX_USER_CALENDAR",M={entityId:function(e){return Object(c.a)(e)||Object(u.a)(e)||Object(d.a)(e)||Object(l.a)(e)||Object(_.a)(e)||Object(f.a)(e)||Object(O.a)(e)||Object(g.f)(e)},appOrServiceId:function(e){return Object(c.a)(e)||Object(s.a)(e)},timestamp:b,threadId:function(e){return p.test(e)},replyTs:b,sectionId:function(e){return Object(h.a)(v.a,e)||""===e}};function N(){var e;Object(a.d)(M,(e={},o()(e,i.a,{paths:["/"]}),o()(e,w,{paths:["/:entityId","/:entityId/:timestamp"]}),o()(e,j,{paths:["/:entityId/thread/:threadId","/:entityId/thread/:threadId/:replyTs","/:entityId/:timestamp/thread/:threadId"]}),o()(e,y,{paths:["/:entityId/channel_info","/:entityId/:timestamp/channel_info"]}),o()(e,I,{paths:["/:entityId/details","/:entityId/:timestamp/details","/:entityId/details/:sectionId","/:entityId/:timestamp/details/:sectionId"]}),o()(e,T,{paths:["/:entityId/activity","/:entityId/:timestamp/activity"]}),o()(e,k,{paths:["/:entityId/starred_items","/:entityId/:timestamp/starred_items"]}),o()(e,S,{paths:["/:entityId/files","/:entityId/:timestamp/files"]}),o()(e,A,{paths:["/:entityId/files/:fileId","/:entityId/:timestamp/files/:fileId"]}),o()(e,E,{paths:["/:entityId/files/type","/:entityId/:timestamp/files/type"]}),o()(e,F,{paths:["/:entityId/files/:memberId","/:entityId/:timestamp/files/:memberId"]}),o()(e,D,{paths:["/:entityId/user_groups","/:entityId/:timestamp/user_groups"]}),o()(e,C,{paths:["/:entityId/user_groups/:userGroupId","/:entityId/:timestamp/user_groups/:userGroupId"]}),o()(e,P,{paths:["/:entityId/whats_new","/:entityId/:timestamp/whats_new"]}),o()(e,B,{paths:["/:entityId/shortcuts","/:entityId/:timestamp/shortcuts"]}),o()(e,L,{paths:["/:entityId/downloads","/:entityId/:timestamp/downloads"]}),o()(e,R,{paths:["/:entityId/directory","/:entityId/:timestamp/directory"]}),o()(e,x,{paths:["/:entityId/user_profile/:memberId","/:entityId/:timestamp/user_profile/:memberId"]}),o()(e,U,{paths:["/:entityId/app_profile/:appOrServiceId","/:entityId/:timestamp/app_profile/:appOrServiceId"]}),o()(e,W,{paths:["/:entityId/calendar","/:entityId/:timestamp/calendar"]}),e))}},wA8W:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("m1cH"),o=n.n(r),a=n("Smdl"),i=[].concat(["calendar","files","downloads","whats_new","shortcuts","details","apps"],o()(Object(a.a)()?["search_results","activity","starred_items","directory","user_profile","app_profile","user_groups","channel_info","thread","pins","members","info","notification_prefs","highlights","shared_files"]:["convo","groups","team","stars","mentions"]))},wHps:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r,o=n("YEIV"),a=n.n(o),i=n("4v0o"),s=(r={},a()(r,i.a.allUnreads,"unreads"),a()(r,i.a.allThreads,"threads"),a()(r,i.a.search,"search"),r)}},[["d/52",2,43,17,101,10]]]);